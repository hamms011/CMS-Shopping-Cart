@model IEnumerable<TheCakeShop.Models.ViewModels.Account.UserVM>

@{
    ViewBag.Title = "Index";
}


<div class="row">
    <div class="col-lg-12">
        <div class="card-box">

            <script type="text/javascript">
            @if (TempData["DM"] != null)
                {
            <text>
            swal({
                type: 'info',
                title: '@TempData["DM"]',
                showConfirmButton: false,
                animation: false,
                customClass: 'animated tada',
                timer: 1700
                })
            </text>
                }
            </script>

            <h2 class="text-center display-4">Manage Users</h2>

            @if (!Model.Any())
            {
                <h1 class="text-center">There are no Users.</h1>
            }
            else
            {
                <p>
                    @Html.ActionLink("Create New User", "CreateAccount", null, new { @class = "btn btn-success waves-effect waves-light btn-lg" })
                </p>
                <table id="datatable" class="table table-bordered dataTable no-footer">
                    <thead class="thead-light">
                        <tr>
                            <th class="text-center">
                                First Name
                            </th>
                            <th class="text-center">
                                Last Name
                            </th>
                            <th class="text-center">
                                Address
                            </th>
                            <th class="text-center">
                                Number
                            </th>
                            <th class="text-center">
                                Email Address
                            </th>
                            <th class="text-center">
                                Username
                            </th>
                            <th class="text-center">
                                Password
                            </th>
                            <th></th>
                        </tr>
                    </thead>


                    @foreach (var item in Model)
                    {
                        <tr>
                            <td class="text-center">
                                @item.FirstName
                            </td>
                            <td class="text-center">
                                @item.LastName
                            </td>
                            <td class="text-center">
                                @item.Address
                            </td>
                            <td class="text-center">
                                @item.Number
                            </td>
                            <td class="text-center">
                                @item.EmailAddress
                            </td>
                            <td class="text-center">
                                @item.Username
                            </td>
                            <td class="text-center">
                                @item.Password
                            </td>
                            <td class="text-center">
                                @if (item.Username != "admin")
                                {
                                    @Html.ActionLink("X", "DeleteAccount", new { id = item.Id }, new { @class = "btn btn-danger waves-effect waves-light btn-sm delete" })
                                }
                            </td>
                        </tr>
                    }

                </table>

            }
        </div>
    </div>
</div>

@section Scripts {

    
    

    <script>
        $(document).ready(function () {
            $('#datatable').DataTable();
        });
    </script>


}